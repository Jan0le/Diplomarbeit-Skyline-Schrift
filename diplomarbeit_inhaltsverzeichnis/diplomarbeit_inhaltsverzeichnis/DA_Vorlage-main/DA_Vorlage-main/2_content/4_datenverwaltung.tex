%!TEX root = ../DA_MainDocument.tex
\chapter{Implementierung: Zentrale \& sichere Datenverwaltung (JanOle)}\label{chapter:datenverwaltung}

Dieses Kapitel beschreibt die Umsetzung der zentralen Datenverwaltung in Skyline. Die theoretischen Grundlagen (Single Source of Truth, Sicherheitskonzept, Anforderungen) werden in Kapitel 3 behandelt.

\section{Implementierung in Skyline}
Die Implementierung nutzt Supabase Postgres für Daten und Supabase Storage für Dateien \cite{supabaseStorage}.
\begin{figure}[h]
  \centering
  \fbox{\parbox{0.8\textwidth}{TODO: Datenmodell/Supabase-Tabellen oder Schema-Visualisierung einfuegen.}}
  \caption{TODO: Zentrales Datenmodell in Skyline}
  \label{fig:todo_datenmodell}
\end{figure}
\subsection{Datenmodell \& Tabellenstruktur}
Das Schema umfasst \texttt{user\_flights}, notes, checklists, documents und profiles.
\subsection{Beziehung Flight <-> Notes/Docs/Checklists}
Alle sekundären Entitäten verweisen über \texttt{flight\_id} auf den Trip.
\subsection{StorageBucket \& Signed URLs}
Dokumente werden im Storage abgelegt; Signed URLs erlauben sicheren Zugriff \cite{supabaseStorage}.
\subsection{SyncStrategie \& Caching}
Die App synchronisiert Daten bei App-Start und nutzt lokales Caching für Offline-Zugriff.
\subsection{Fehlerfälle \& Wiederherstellung}
Fehler werden abgefangen; Daten bleiben zentral gesichert und können wieder geladen werden.
\section{Bewertung der Wirkung}
Bewertet wird, ob Transparenz und Nachvollziehbarkeit messbar steigen.
\subsection{KPI: Transparenz}
Zeit, um den Status einer Reise zu verstehen, und Anteil vollständiger Datensätze.
\subsection{KPI: Nachvollziehbarkeit}
Zeit bis ein Dokument wiedergefunden wird und Anteil fehlender Belege.
\subsection{Vergleich zu dezentralen Lösungen}
Zentralisierte Ablage reduziert Rückfragen und manuellen Suchaufwand.
\section{Ergebnis}
Die zentrale Datenverwaltung verbessert Transparenz und Nachvollziehbarkeit insbesondere in Geschäftsreisen.
\subsection{Verbesserungen in Transparenz}
Status und Dokumente sind jederzeit sichtbar.
\subsection{Verbesserungen in Nachvollziehbarkeit}
Historie und Metadaten ermöglichen klare Rückverfolgung.
\subsection{Schlussfolgerung}
Single Source of Truth kombiniert mit Security-by-Design liefert nachhaltigen Mehrwert für Organisation und Nutzer.
\input{2_content/5_recht}
