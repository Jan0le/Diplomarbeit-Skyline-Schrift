%!TEX root = ../DA_MainDocument.tex
\chapter{Theoretische Grundlagen}

\section{Mobile Reiseorganisation und digitale Workflows}

Mobile Reiseorganisation ist ein Anwendungsfall des \textbf{Personal Information
Management (PIM)}: Nutzerinnen und Nutzer müssen Informationen erfassen,
organisieren, wiederfinden und in passende Handlungsschritte übersetzen, obwohl
die zugrunde liegenden Daten über mehrere Werkzeuge und Kanäle entstehen
(z.\,B. E-Mail-Bestätigungen, Kalendereinträge, PDF-Dokumente oder digitale
Boarding-Pässe). In der PIM-Forschung wird diese Verteilung als
\textit{Informationsfragmentierung} beschrieben und als Ursache für
wiederholte Suchen, Medienbrüche und inkonsistente Datenstände diskutiert
\cite{karger_jones2006_dataunification,bergman2006_project_fragmentation}.

Digitalisierung verändert zudem, wie Reisende Informationen wahrnehmen und
verarbeiten: Angebote und Daten werden zunehmend digital bereitgestellt, doch
die eigentliche Konsolidierung bleibt oft beim Nutzer. Branchentools wie
TripIt zeigen, dass Konsolidierung aus Bestätigungsmails ein etabliertes
Produktmuster ist -- das heißt, Fragmentierung wird als echtes Problem
erkannt und industriell adressiert \cite{tripit_official_forward_emails,
tripit_appstore_offline_and_upload}. Die Digitalisierung des Tourismus hat
das Informationsangebot stark erweitert, ohne dass damit automatisch eine
bessere Übersichtlichkeit für den Einzelreisenden entstanden ist
\cite{weberleibrecht2021_digitalisierung_tourismus}.

Skyline adressiert dieses Problem, indem alle relevanten Reiseinformationen
in einer einzigen, zentral verwalteten Anwendung zusammengeführt werden:
Flüge, Dokumente, Notizen, Checklisten und Erinnerungen teilen dieselbe
Datenbasis und sind über einen einzigen Zugangspunkt erreichbar.

% ---- Ökosystem-Abbildung ----
\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    % Stil-Definitionen
    \tikzstyle{src}=[draw, rounded corners, align=center,
                     minimum width=3.0cm, minimum height=1.0cm, font=\small]
    \tikzstyle{appbox}=[draw, rounded corners, align=center,
                        minimum width=3.2cm, minimum height=1.0cm,
                        font=\small, thick]
    % Quellen (linke Spalte)
    \node[src] (email) at (0, 3.0)  {E-Mail\\(Bestätigungen)};
    \node[src] (cal)   at (0, 1.5)  {Kalender\\(Termine)};
    \node[src] (files) at (0, 0.0)  {Dateien/Cloud\\(PDFs, Scans)};
    \node[src] (wall)  at (0,-1.5)  {Wallet/Passes\\(Boarding Pass)};

    % Skyline App (Mitte)
    \node[appbox] (app) at (5.5, 0.75) {Skyline\\(iOS App)};

    % Backend / Registry (rechte Spalte)
    \node[appbox] (backend) at (10.0, 1.8)  {Backend\\(Supabase/DB)};
    \node[appbox] (reg)     at (10.0, -0.3) {Registry\\(Reminder/Logs)};

    % Pfeile: Quellen → App
    \draw[->, thick] (email.east) -- (app.west);
    \draw[->, thick] (cal.east)   -- (app.west);
    \draw[->, thick] (files.east) -- (app.west);
    \draw[->, thick] (wall.east)  -- (app.west);

    % Beschriftung Quellen → App
    \node[font=\scriptsize, align=center] at (2.8, 1.8) {Import/};
    \node[font=\scriptsize, align=center] at (2.8, 1.4) {Parsing};

    % App ↔ Backend
    \draw[->, thick] (app.east)      to[bend left=15]
                     node[above, font=\scriptsize]{Sync} (backend.west);
    \draw[->, thick] (backend.west)  to[bend left=15]
                     node[below, font=\scriptsize]{Daten} (app.east);

    % Backend → Registry
    \draw[->, thick] (backend.south) -- node[right, font=\scriptsize]{Persistenz} (reg.north);
  \end{tikzpicture}
  \caption{Ökosystem der mobilen Reiseorganisation: Reisedaten entstehen verteilt
    (E-Mail, Kalender, Dateien, Wallet) und werden in Skyline konsolidiert;
    Backend und Registry ermöglichen Synchronisation und Nachvollziehbarkeit.}
  \label{fig:ecosystem_travel_pim}
\end{figure}

% ============================================================
\subsection{Charakteristika von Reisedaten und deren Verwaltung}
% ============================================================

Reisedaten weisen drei besondere Charakteristika auf, die ihre Verwaltung
anspruchsvoll machen:

\medskip\noindent\textbf{Heterogenität.}
Reisedaten sind heterogen: Buchungscodes, IATA-Flugnummern und Barcode-Daten
liegen in standardisierten, maschinenlesbaren Formaten vor, während Buchungs-PDFs,
Visa-Dokumente und Rechnungen weitgehend unstrukturiert sind.
Die \textit{Bar Coded Boarding Pass (BCBP)}-Spezifikation der IATA
definiert standardisierte Datenfelder und Symbologien für Boarding-Pässe auf
Papier oder mobilen Geräten, einschließlich Mehrsegmentkodierung
\cite{iata2021_bcbp_implementation_guide}. Digitale Passes (Wallet-Format)
liegen als Paketstruktur mit zentraler JSON-Beschreibung vor, die Identifikatoren,
Darstellungstexte und kryptographische Signaturen kombiniert
\cite{apple2018_wallet_dev_guide_creating,google2024_wallet_generic_pass_flow}.
Diese Vielfalt erfordert flexible Importpipelines, die strukturierte und
unstrukturierte Quellen gleichermaßen verarbeiten können. Skyline implementiert
QR-/BCBP-Parsing, OCR und E-Mail-Import als komplementäre Eingabekanäle.

\medskip\noindent\textbf{Zeitkritikalität.}
Reisedaten sind zeitgebunden: Check-in-Fenster öffnen bei vielen Airlines
24--30~Stunden vor Abflug
\cite{lufthansa_online_checkin_30h,lufthansaCheckin};
Boarding beginnt typischerweise 30--60~Minuten vor der planmäßigen Abflugzeit
\cite{klm_boarding_times,aa_boarding_process,klmBoarding}.
Das Verpassen dieser Fenster hat direkte Konsequenzen (kein Check-in mehr,
kein Boarding). Zusätzlich können sich Zeiten dynamisch ändern (Verspätung,
Gate-Wechsel, Storno), was statische Reminder-Strategien allein nicht abdecken.
Skyline begegnet dieser Zeitkritikalität durch automatisch berechnete
Erinnerungsoffsets relativ zu \texttt{departureAt} und \texttt{arrivalAt}
sowie durch serverseits persistierte Reminder, die bei Datenänderungen
neu geplant werden können.

\medskip\noindent\textbf{Compliance-Relevanz.}
Reisedaten sind häufig sicherheits- und compliance-relevant: Identitätsdokumente,
Visa und Versicherungsnachweise müssen für den Reiseantritt vorliegen; Belege
und Abrechnungsunterlagen unterliegen Aufbewahrungspflichten. In Österreich
beträgt die gesetzliche Aufbewahrungsfrist für Buchhaltungsunterlagen und Belege
\textbf{sieben Jahre}; elektronische Archivierung ist unter definierten
Bedingungen (geordnet, inhaltsgleich, jederzeit verfügbar) zulässig
\cite{usp_aufbewahrungspflicht,wko_aufbewahrungspflichten}.
Reisekostenunterlagen sind elektronisch vorzulegen und unterliegen fachlichen
Prüfprozessen \cite{bmbwf_reisegebuehren_arbeitsbehelf}.
Daraus folgt für Skyline: Die Datenstruktur muss Belege einem konkreten Trip
zuordenbar halten, Löschpfade müssen compliance-konform gestaltet sein, und
die Zugangskontrolle (RLS) sichert Vertraulichkeit auf Datenbankebene.

Die folgende Tabelle gibt einen Überblick über typische Reisedatenklassen,
ihre Quellen und die sich daraus ergebenden Problemfelder:

\begin{table}[htbp]
\centering
\caption{Typische Reisedaten-Klassen, Quellen und Probleme (relevant für Reminder-Design in Skyline)}
\label{tab:travel_data_classes}
\renewcommand{\arraystretch}{1.2}
\begin{tabularx}{\textwidth}{p{2.8cm} p{3.0cm} X p{2.9cm}}
\toprule
\textbf{Datentyp} & \textbf{Typische Quelle} & \textbf{Typische Probleme} & \textbf{Relevanz für Reminder} \\
\midrule
Flug-Reservierung (PNR, Zeiten) &
E-Mail; Airline-Portal; Reisebüro &
Zeitzonenabweichungen; Updates (Gate, Verspätung) nicht synchron; Duplikate &
Check-in-Reminder; Boarding-Reminder \\
\midrule
Boarding Pass (Barcode/Wallet) &
Wallet/Pass; Airline-App; PDF &
Mehrsegment-Reisen; Offline-Bedarf; Identitäts-/Sicherheitsbezug &
Boarding-Reminder; \\
\midrule
Reisedokumente (Pass/Visum) &
Scan/PDF; Cloud; Foto &
Sensitivität; fehlende Trip-Zuordnung; schwer auffindbar; Ablaufdaten &
Missing-Docs-Reminder; Ablauf-Reminder \\
\midrule
Belege/Quittungen (Spesen) &
Foto; PDF; E-Mail &
Verlust; fehlende Metadaten; Aufbewahrungspflicht (7 Jahre AT) &
Receipt-Reminder nach Ankunft; Frist-Reminder \\
\midrule
Hotel-/Mietwagen- reservierungen &
E-Mail; PDF; App &
Uneinheitliche Bezeichnungen; mehrere Anbieter; Offline am Zielort &
Check-in/out-Reminder; Rückgabe-Reminder \\
\bottomrule
\end{tabularx}
\end{table}

% ============================================================
\subsection{Herausforderungen bei der Fragmentierung von Reiseinformationen}
% ============================================================

Das zentrale Problem der Reiseorganisation ist \textbf{Informationsfragmentierung}:
Projektinformationen -- hier: alle zu einem Trip gehörenden Daten -- werden
formatabhängig in getrennten Sammlungen gespeichert (Posteingang, Dateisystem,
Kalender, Foto-App, Wallet). Bergman et al.\ definieren dieses Muster als
\textit{Project Fragmentation Problem}: Nutzerinnen und Nutzer halten
Konsistenz über mehrere, formatspezifische Hierarchien aufrecht, was
zeitaufwändig ist und kognitive Last erzeugt
\cite{bergman2006_project_fragmentation}. Karger und Jones ergänzen, dass
Informationen zu einer Entscheidung typischerweise über mehrere Anwendungen
verteilt vorliegen und Nutzer wiederholt mehrere Tools öffnen und suchen müssen
\cite{karger_jones2006_dataunification}.

\medskip\noindent\textbf{Re-Finding als eigenständige Aufgabe.}
Ein etablierter Befund der PIM-Forschung ist, dass das \textit{Wiederfinden}
bereits gesehener oder gespeicherter Informationen eine eigenständige,
häufige Aufgabe ist -- nicht ein Nebenprodukt des ursprünglichen Speicherns.
Elsweiler und Ruthven zeigen anhand von Tagebuchstudien, dass Re-Finding-Tasks
vielfältig sind: von konkreten Detailsuchen bis hin zum Zusammensetzen aus
mehreren Quellen \cite{elsweiler_ruthven2007_taskbased_pim}.
Whittaker et al.\ belegen in einer Feldstudie mit 345~Nutzenden und
mehr als 85.000~Refinding-Aktionen, dass intensive Ordnerstrukturen keine
automatisch bessere Erfolgsquote erzielen als Such- oder Threading-basierte
Strategien \cite{whittaker2011_email_refinding}. Für den Reise-Kontext
bedeutet das: Das Ablegen in einem Ordner verhindert keine Suche kurz vor
dem Abflug -- proaktive Erinnerungen und kontextsensitive Hinweise wirken
zuverlässiger.

\medskip\noindent\textbf{Aufmerksamkeits- und Kontextwechsel.}
Fragmentierung ist nicht nur ein Speicherortproblem, sondern auch ein
Aufmerksamkeitsproblem: Reeves et al.\ zeigen, dass digitale Alltagsinteraktionen
über viele Apps hinweg verwoben sind und Wechsel oft in Sekunden stattfinden
\cite{reeves2021_screenomics}. Czerwinski et al.\ belegen in einer Tagebuchstudie,
dass häufige Aufgabenwechsel und Unterbrechungen das prospektive Erinnern
(geplante Handlungen ausführen) erheblich belasten
\cite{czerwinski2004_task_switching_diary}. Für die Reiseorganisation heißt
das: Selbst wenn alle Informationen vorhanden sind, werden sie unter
Zeitdruck (am Flughafen, in der Bahn) oft nicht rechtzeitig abgerufen.

\medskip\noindent\textbf{Organisationale Dimension.}
McKinsey schätzt, dass Wissensarbeitende einen erheblichen Teil der
Arbeitszeit für E-Mail und Informationssuche aufwenden
\cite{mckinsey2012_social_media_productivity}. Im Unternehmensreisekontext
verstärkt sich dies: Buchungsbestätigungen kommen per Mail, Belege müssen
eingescannt und weitergeleitet werden, Abrechnungsfristen werden kommuniziert.
Tools wie TripIt adressieren dies über das automatische Einlesen von
Bestätigungsmails \cite{tripit_official_forward_emails} -- ein Muster, das
zeigt, dass Fragmentierung als reales Produktproblem anerkannt ist.

Die folgende Abbildung zeigt den Datenfluss von fragmentierten Eingaben
zu einem konsolidierten Trip-Datensatz, wie er in Skyline umgesetzt wird:

% ---- Fragmentierungs-Datenfluss ----
\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \tikzstyle{src}=[draw, rounded corners, align=center,
                     minimum width=3.2cm, minimum height=1.0cm, font=\small]
    \tikzstyle{proc}=[draw, rounded corners, align=center,
                      minimum width=3.2cm, minimum height=1.0cm, font=\small, thick]
    \tikzstyle{warn}=[draw, rounded corners, dashed, align=center,
                      minimum width=2.8cm, minimum height=0.9cm,
                      font=\small\itshape]

    % Quellen (linke Spalte, y = 4.5 / 3.0 / 1.5 / 0.0)
    \node[src]  (s1) at (0, 4.5) {Airline-Mail\\(PNR, Zeiten)};
    \node[src]  (s2) at (0, 3.0) {Hotel-Mail\\(Check-in/out)};
    \node[src]  (s3) at (0, 1.5) {PDF/Scan\\(Tickets, Visa)};
    \node[src]  (s4) at (0, 0.0) {Kalender\\(Events)};

    % Verarbeitungsknoten (Mitte)
    \node[proc] (ext) at (5.0, 2.25) {Extraktion \&\\Normalisierung};

    % Fehlerquellen (oben/unten am Extract)
    \node[warn] (e1) at (5.0, 4.0) {Zeitzone /\\Formatfehler};
    \node[warn] (e2) at (5.0, 0.5) {Duplikate /\\Versionskonflikte};

    % Ergebnis (rechts)
    \node[proc] (unified) at (9.5, 2.25) {Unified Trip\\(SSOT in Skyline)};

    % Ableitungen (ganz rechts)
    \node[proc] (actions) at (9.5, 0.5) {Ableitungen:\\Reminder, Checklisten,\\Dokumentenstatus};

    % Pfeile: Quellen → Extraktion
    \draw[->, thick] (s1.east) -- (ext.west);
    \draw[->, thick] (s2.east) -- (ext.west);
    \draw[->, thick] (s3.east) -- (ext.west);
    \draw[->, thick] (s4.east) -- (ext.west);

    % Extraktion → Unified Trip
    \draw[->, thick] (ext.east) -- (unified.west);

    % Fehlerquellen → Extraktion (gestrichelt)
    \draw[->, dashed] (e1.south) -- (ext.north);
    \draw[->, dashed] (e2.north) -- (ext.south);

    % Unified → Ableitungen
    \draw[->, thick] (unified.south) -- (actions.north);
  \end{tikzpicture}
  \caption{Fragmentierungs-Datenfluss in Skyline: Mehrere Quellen werden normalisiert
    und zu einem Unified Trip zusammengeführt; Fehler entstehen typischerweise
    bei Zeitzonen, Duplikaten und inkonsistenten Versionen.}
  \label{fig:fragmentation_flow}
\end{figure}

\medskip\noindent\textbf{Skyline als Antwort auf Fragmentierung.}
Skyline begegnet dem Fragmentierungsproblem auf drei Ebenen:
\begin{enumerate}
  \item \textbf{Strukturierte Datenbasis:} Alle Trip-Entitäten
  (\texttt{user\_flights}, \texttt{user\_notes}, \texttt{user\_checklists},
  \texttt{flight\_documents}) sind relational verknüpft; kein Datum existiert
  mehrfach ohne Referenz auf einen Flug.
  \item \textbf{Proaktive Erinnerungen:} Statt Nutzer auf Re-Finding
  angewiesen zu lassen, liefert Skyline zeitbasierte Push-Notifications
  (Check-in T$-$24h, Boarding T$-$60\,min/T$-$30\,min, Missing Docs T$-$12h),
  die kritische Handlungsfenster explizit adressieren.
  \item \textbf{Offline-Verfügbarkeit:} Dokumente werden gecacht und
  Signed URLs lokal persistiert, sodass der Zugriff am Flughafen auch ohne
  Netzwerkverbindung funktioniert.
\end{enumerate}

Die folgende Abbildung fasst den gesamten Nutzer-Workflow -- von der Buchung
bis zur Nachbereitung -- zusammen, wie er in Skyline unterstützt wird:

% ---- Nutzer-Workflow ----
\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \tikzstyle{wfbox}=[draw, rounded corners, align=center,
                       minimum width=5.0cm, minimum height=1.0cm, font=\small]

    % 7 Schritte vertikal, je 1.8cm Abstand
    \node[wfbox] (receive) at (0,  9.0) {Buchung erhalten (E-Mail / PDF / App)};
    \node[wfbox] (capture) at (0,  7.2) {Erfassen (Import / Upload / Scan)};
    \node[wfbox] (assign)  at (0,  5.4) {Zuordnen zu Reise / Trip};
    \node[wfbox] (verify)  at (0,  3.6) {Validieren (Zeiten, Dokumente)};
    \node[wfbox] (remind)  at (0,  1.8) {Reminder: Check-in, Boarding, Missing Docs};
    \node[wfbox] (travel)  at (0,  0.0) {Unterwegs nutzen (Offline-Zugriff)};
    \node[wfbox] (post)    at (0, -1.8) {Nachbereitung (Belege / Spesenabrechnung)};

    % Hauptfluss
    \draw[->, thick] (receive) -- (capture);
    \draw[->, thick] (capture) -- (assign);
    \draw[->, thick] (assign)  -- (verify);
    \draw[->, thick] (verify)  -- (remind);
    \draw[->, thick] (remind)  -- (travel);
    \draw[->, thick] (travel)  -- (post);

    % Rückkopplungs-Pfeil: Validierung → Zuordnen (bei Änderungen)
    \draw[->, dashed, thick]
      (verify.east) -- ++(1.2,0)
      node[right, font=\scriptsize, align=left] {Änderung\\(Zeit/Status)}
      -- ++(0, 1.8)
      -- (assign.east);
  \end{tikzpicture}
  \caption{Nutzer-Workflow in Skyline: Reisedaten werden erfasst, zugeordnet und
    validiert; daraus werden kontextbezogene Reminder abgeleitet. Änderungen
    an Zeiten oder Status führen zu Re-Assignment und Neuvalidierung.}
  \label{fig:user_workflow_upload_remind}
\end{figure}

\section{Grundlagen des automatischen Imports}
\subsection{Zielsetzung und Nutzen}
Automatisierter Import reduziert manuellen Aufwand und senkt die Fehlerquote. Ziel ist es, Flugdaten möglichst schnell und korrekt zu erfassen, um den Nutzer von repetitiven Eingaben zu entlasten und die Datenqualität zu erhöhen.

\subsection{Abgrenzung zu manueller Erfassung}
Manueller Import bleibt als Fallback bestehen, ist aber zeitaufwändiger und fehleranfälliger. Automatisierung steigert Komfort und Konsistenz.

\subsection{Typische Fehlerquellen bei Importen}
Typische Probleme sind unvollständige Daten, fehlerhafte OCR-Erkennung oder unklare Codierung in QR/BCBP. Daher sind Validierung und Nachbearbeitung wichtig.

\subsection{Datenquellen für Flugdaten}
\subsubsection{QR-Code / Boarding Pass (BCBP)}
Boardingpässe enthalten standardisierte BCBP-Daten, die sich strukturiert auslesen lassen \cite{iataBCBP}. BCBP basiert auf festen Positionsfeldern. Die Struktur ermöglicht die Extraktion von Airline, Flugnummer, Datum und Airports \cite{iataBCBP}. Kernfelder sind Abflug-/Zielairport, Flugnummer und Datum. Diese reichen für einen validen Flight-Import aus. Nicht alle Boardingpässe sind standardkonform; zudem fehlen häufig Zusatzdaten wie Gate oder Sitzplatz.

\subsubsection{OCR aus Bildern/Dokumenten}
OCR ermöglicht Import aus Fotos und PDFs, wenn kein QR-Code vorhanden ist. Schriftgröße, Kontrast und Bildrauschen beeinflussen die Genauigkeit der OCR. Nach OCR müssen Texte geparst und relevanten Feldern zugeordnet werden. Fehlerhafte OCR wird durch Plausibilitätschecks abgefangen, z.\,B. IATA-Codes oder Datumsformate.

\subsubsection{E-Mail-Import (Buchungsdaten)}
Buchungsbestätigungen enthalten strukturierte Informationen, die per Parser ausgelesen werden können. Typische Mails enthalten Buchungsreferenz, Routing, Zeiten und Passagierdaten. Format und Layout unterscheiden sich je Airline. Unterschiedliche Templates erfordern flexible Parser oder heuristische Regeln.

\subsection{Technische Anforderungen}
Der Import muss technisch stabil, verifizierbar und nutzerfreundlich sein. Validierung prüft Plausibilität (Datum, Airport-Codes). Feld-Mapping normalisiert externe Daten. Deduplizierung erkennt Mehrfachimporte. Fallback-Strategien und manuelle Ergänzung bei unvollständigen Daten sind erforderlich. Asynchrone Verarbeitung hält die UI responsiv. Fehler müssen nutzerfreundlich kommuniziert werden.

\subsection{Vergleich: Manuell vs.\ Automatisch}
Automatisierung reduziert Zeitaufwand und Fehlerquote, steigert Nutzerakzeptanz, Wiederholbarkeit und Skalierbarkeit.

\section{Grundlagen visueller Flugrouten-Darstellung}
\subsection{Charakteristika und Nutzen}
Die visuelle Darstellung von Flugrouten dient der Orientierung und der schnellen Übersicht über Reisehistorie und geplante Flüge. Routen sollen geografisch korrekt auf einer Karte dargestellt und mit Interaktion verbunden sein.

\subsection{Anforderungen an eine mobile Flugrouten-Karte}
Die Karte muss auf mobilen Geräten performant laufen, interaktiv bedienbar sein und darf die Nutzerführung nicht überladen. Performance \& Ladezeiten, Skalierbarkeit bei vielen Flügen, mobile Optimierung (Touch, Displaygrößen), Genauigkeit der Darstellung (geodätisch korrekt, nicht als gerade Linie) und Usability (Fokus, Zoom, Auswahl) \cite{reactNativeMaps,movableTypeLatLong}.

\subsection{Technische Grundlagen der Routenberechnung}
Die Routen werden anhand geographischer Koordinaten der Airports berechnet. Für die Distanz zwischen zwei Airports wird die Haversine-Formel verwendet \cite{movableTypeLatLong}. Die Flugroute wird als Great-Circle-Bogen modelliert. Flugfortschritt in Echtzeit wird über departureAt/arrivalAt interpoliert.

\section{Proaktive Benachrichtigungssysteme und Erinnerungsmanagement}

Proaktive Benachrichtigungssysteme verfolgen das Ziel, relevante Informationen nicht erst auf explizite Nutzeranfrage bereitzustellen, sondern situations- und zeitgerecht automatisch auszuliefern. In der Literatur wird diese Logik häufig als Gegenüberstellung von \glqq Push\grqq{} (System initiiert die Informationsbereitstellung) und \glqq Pull\grqq{} (Nutzer initiiert die Informationsabfrage) diskutiert \cite{mehrotra2018intelligent}. Push-Ansätze sind insbesondere dann sinnvoll, wenn Handlungen an Zeitfenster gebunden sind oder wenn das Versäumen einer Handlung hohe Kosten verursacht (z.\,B. verpasster Check-in oder Gate-Schluss).

Reiseorganisation ist ein prototypischer Anwendungsfall für proaktive Erinnerungssysteme, weil zentrale Prozessschritte (Online-Check-in, Gepäckaufgabe, Sicherheitskontrolle, Boarding) in der Praxis durch harte oder \glqq quasi-harte\grqq{} Deadlines strukturiert sind \cite{britishAirwaysCheckin,lufthansaCheckin,austrianCheckin,viennaAirportOnlineCheckin,klmBoarding}. Die praktische Relevanz zeigt sich auch daran, dass die Reiseindustrie bereits proaktive Muster etabliert hat: Beispielsweise der automatische Versand von Bordkarten an Reisende. Solche Mechanismen externalisieren Erinnerungsarbeit und sind damit eine Blaupause für digitale Reiseassistenten wie Skyline.

Gleichzeitig ist Reiseorganisation kognitiv anspruchsvoll, weil sie mehrere parallele Zukunftsintentionen umfasst (Dokumente prüfen, Abfahrtszeit planen, Gate wechseln, Belege sichern) und weil sich Parameter dynamisch ändern können. In dieser Dynamik entsteht ein Spannungsfeld: Benachrichtigungen sollen rechtzeitig und hilfreich sein, dürfen aber nicht zur Überlastung beitragen (Notification Fatigue) oder in unpassenden Momenten stören \cite{pielot2014notifications,mehrotra2016myphone}.

\subsection{Proaktivität und Push/Pull in Benachrichtigungssystemen}

In der HCI- und Informatikforschung wird \glqq proaktiv\grqq{} nicht nur als \glqq früh\grqq{} verstanden, sondern als Eigenschaft eines Systems, \textbf{auf eigene Initiative} und \textbf{im Sinne des Nutzers} zu handeln \cite{tennenhouse2000proactive,coronado2010continuous}. Reaktive Systeme liefern Informationen primär dann, wenn eine Nutzerinteraktion dies auslöst (Suche, Klick, Öffnen einer App). Proaktive Systeme verschieben die Verantwortung für Timing und Erinnern teilweise zurück zum System: Sie erkennen günstige Zeitpunkte, liefern Hinweise und reduzieren damit typische Fehlerklassen wie \glqq zu spät bemerkt\grqq{} oder \glqq vergessen\grqq{} \cite{mehrotra2018intelligent}. Diese Entlastungslogik ist eng verwandt mit dem Konzept des kognitiven Offloadings.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.15\textwidth]{notification_icon}
  \caption{Symbol für Benachrichtigungen (Push-Trigger). Quelle: \cite{wikimediaNotificationIcon}}
  \label{fig:notification_icon}
\end{figure}

Die Push/Pull-Unterscheidung ist eine Frage der Nutzerintention und Disruption: Push-Systeme können hohe Nützlichkeit erzielen, erzeugen aber das Risiko, Aufmerksamkeit in unpassenden Situationen zu beanspruchen; Pull-Systeme minimieren Disruption, bergen aber das Risiko, dass kritische Informationen nicht rechtzeitig abgerufen werden \cite{mehrotra2018intelligent}. Für Skyline folgt daraus eine zentrale Designhypothese: Proaktivität ist dann gerechtfertigt, wenn das System (a) einen stabilen Anlass hat (z.\,B. Abflugzeit), (b) eine konkrete Handlung ermöglicht (z.\,B. Check-in öffnen) und (c) das Risiko von Störung durch Quiet Hours und Nutzerkontrolle begrenzt \cite{applePushPrimer2020,androidNotifications}. Da Skyline primär für iOS entwickelt wurde und im Apple App Store verfügbar ist, bildet APNs (Apple Push Notification Service) die primäre Zustellinfrastruktur.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.7\textwidth]{push_subscribe}
  \caption{Publish/Subscribe-Schema (Push-Prinzip): Der Server liefert Informationen proaktiv an den Client. Quelle: \cite{wikimediaPushSubscribe}}
  \label{fig:push_subscribe}
\end{figure}

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.6\textwidth]{polling_pull}
  \caption{Polling-System (Pull-Prinzip): Der Client fragt periodisch beim Server ab. Quelle: \cite{wikimediaPolling}}
  \label{fig:polling_pull}
\end{figure}

\subsection{Kognitive Grundlagen der Erinnerungslast}

Reisebezogene Aufgaben lassen sich als Fälle des \textbf{prospektiven Gedächtnisses} (Prospective Memory) modellieren: das Erinnern, eine beabsichtigte Handlung in der Zukunft auszuführen, häufig ausgelöst durch Zeitpunkte oder Ereignisse \cite{jones2021prospectivememory,ball2024reminders}. Prospective-Memory-Aufgaben sind in der Reiseorganisation besonders fehleranfällig, weil sie mit konkurrierenden Anforderungen interferieren. Ein zentraler Befund ist, dass Menschen externe Hilfen (Notizen, Kalender, Reminder) nutzen, um die Kosten interner Kontrolle zu senken \cite{gilbert2023intentionoffloading}.

Das Konzept \textbf{Intention Offloading} beschreibt die Strategie, Absichten in externe Speicher zu verlagern. Für das Design von Skyline ist wichtig: Erinnerungen wirken zuverlässiger, wenn sie handlungsnah und handlungsfähig sind (z.\,B. \glqq jetzt einchecken\grqq{}), statt nur abstrakt zu informieren \cite{gilbert2023intentionoffloading,jones2021prospectivememory}.

\subsection{Notification Fatigue und Governance}

Unter \textbf{Notification Fatigue} wird verstanden, dass zu häufige oder als irrelevant erlebte Hinweise zu Abwertung, Ignorieren oder Deaktivieren führen \cite{pielot2014notifications,sahami2014largescale,mehrotra2016myphone}. Mobile-HCI-Feldstudien zeigen, dass Benachrichtigungen zwar nützlich sein können, aber oft als störend wahrgenommen werden, wenn Timing und Relevanz nicht zur aktuellen Situation passen \cite{mehrotra2016myphone}. Studien zur mobilen Receptivity belegen, dass \glqq richtig getimed\grqq{} oft wichtiger ist als \glqq mehr Informationen\grqq{} \cite{fischer2011investigating}.

Aus Governance-Sicht lassen sich drei Gestaltungsprinzipien ableiten: (1) \textbf{Relevanz vor Vollständigkeit}---Systeme sollten das melden, was eine konkrete Handlung ermöglicht \cite{applePushPrimer2020}. (2) \textbf{Nutzerkontrolle und Transparenz}---Benachrichtigungen benötigen bewusste Zustimmung; iOS fordert eine explizite Genehmigung (\texttt{requestPermissionsAsync}); Best Practices empfehlen, diese \textbf{im Kontext der Funktionalität} einzuholen \cite{applePushPrimer2020}. (3) \textbf{Schutzzeiten}---Quiet Hours bzw. iOS Focus-Modi begrenzen Störungen \cite{applePushPrimer2020,androidNotifications}.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.5\textwidth]{android_notifications}
  \caption{Beispielhafte Notification-Interaktion in einer mobilen App (Nutzerkontrolle, Prioritäten) – exemplarische Darstellung; Skyline läuft primär unter iOS. Quelle: \cite{wikimediaAndroidNotifications}}
  \label{fig:android_notifications}
\end{figure}

\subsection{Anforderungen und Heuristiken im Reise-Kontext}

Im Reise-Kontext variieren operative Fenster je Airline und Flughafen. Check-in-Fenster reichen von \glqq ca. 30 Stunden vor Abflug\grqq{} bis \glqq bis zu 30 Tage\grqq{}; Boarding beginnt typischerweise 60 bis 25 Minuten vor Abflug \cite{klmBoarding,britishAirwaysCheckin,lufthansaCheckin}. Flughäfen empfehlen Ankunftszeiten (z.\,B. 2--3 Stunden vor Abflug für internationale Flüge). Für Skyline werden daher \textbf{zeitbasierte Heuristiken} als Default-Regeln verwendet:

\begin{table}[htbp]
  \centering
  \caption{Zeitbasierte Heuristiken für Reise-Reminder (Skyline-relevant)}
  \label{tab:reminder_heuristiken}
  \begin{tabular}{lll}
    \textbf{Anlass} & \textbf{Trigger} & \textbf{Begründung} \\
    \midrule
    Check-in & T$-$24\,h & breit kompatibel, viele Check-in-Fenster $\geq$24\,h \\
    Dokumente & T$-$12\,h & Vorlauf für Pass/ID/Visa-Check \\
    Zum Flughafen & T$-$3\,h / T$-$2\,h & Lang-/Kurzstrecke, Flughafenempfehlungen \\
    Boarding & T$-$60\,min, T$-$30\,min & deckt Boardingspannen ab \\
    Belege/Quittungen & T+2\,h nach Ankunft & handlungsnah nach Reiseende \\
  \end{tabular}
\end{table}

Für dynamische Ereignisse (Verspätungen, Gate-Wechsel) reichen statische Heuristiken nicht aus. Abbildung~\ref{fig:departure_board} illustriert, wie Flughäfen Echtzeit-Informationen anzeigen; solche Daten werden typischerweise über kommerzielle APIs bereitgestellt \cite{flightawareAeroAPI,ciriumFlexAPIs,aviationstack}. Skyline nutzt die in der App gespeicherten \texttt{departureAt}/\texttt{arrivalAt}-Zeiten als Basis; Echtzeit-Updates würden zusätzliche API-Anbindungen erfordern.

\begin{figure}[htbp]
  \centering
  \includegraphics[width=0.7\textwidth]{departure_board}
  \caption{Abflugtafel als Beispiel für Echtzeit-Fluginformationen (Verspätungen, Gate). Quelle: \cite{wikimediaDepartureBoard}}
  \label{fig:departure_board}
\end{figure}

\subsection{Konzeption und technische Umsetzung (Skyline-relevant)}

Konzeptionell lässt sich ein proaktives Reise-Benachrichtigungssystem als Pipeline modellieren: (1) \textbf{Faktenbasis} (Flugobjekt mit departureAt/arrivalAt), (2) \textbf{Regelwerk} (Offsets/Heuristiken), (3) \textbf{Scheduler} (lokal und/oder serverseitig), (4) \textbf{Delivery} (Benachrichtigung + Deep Link), (5) \textbf{Kontrollschicht} (Quiet Hours, Opt-out). Skyline implementiert dies mit Expo Notifications und setzt dabei primär auf APNs als Zustelldienst, da die App für iOS entwickelt wurde und im Apple App Store verfügbar ist \cite{expoNotifications,applePushPrimer2020}.

Triggerzeiten werden als Offsets relativ zu departureAt/arrivalAt berechnet. Technisch kritisch ist die Zeitzonen- und Sommerzeitkorrektheit. Für Persistenz sind hybride Strategien robust: lokale Persistenz ermöglicht Offline-Fähigkeit; serverseitige Persistenz ermöglicht Rescheduling bei Datenänderungen. Deep Links transformieren Benachrichtigungen von \glqq Info\grqq{} zu \glqq Handlung\grqq{}: Der Tap führt direkt in die Flugdetails \cite{applePushPrimer2020}. Das Berechtigungs-Prompt sollte nicht sofort, sondern \textbf{im Kontext der Funktion} (z.\,B. nach Anlegen eines Flugs) erscheinen \cite{applePushPrimer2020}. Fehlende oder ungültige Zeitpunkte werden abgefangen; bei widersprüchlichen Daten ist eine degradierte Strategie sinnvoll (nur statische Reminder oder Umstellung auf Pull).

\section{Zentrale Datenverwaltung und Sicherheit für eine mobile Reiseorganisations-App}

\subsection{Einordnung und Zielsetzung}
Eine mobile Reiseorganisations-App ist nur dann nachhaltig nützlich, wenn sie
(a) alle relevanten Reiseinformationen konsistent bündelt, (b) im Alltag schnell
Auskunft geben kann (\glqq Wann ist mein Boarding?\grqq{}, \glqq Wo ist mein Ticket?\grqq{})
und (c) trotz sensibler Datenlage ein belastbares Sicherheits- und
Datenschutzniveau erreicht. Diese Ziele sind direkt miteinander gekoppelt:
Verteilte Speicherung in E-Mails, Notizen, Screenshots und mehreren Apps erzeugt
Inkonsistenz, Suchaufwand und unkontrollierte Replikation sensibler Daten.

Im Geschäftsreise-Kontext kommt zusätzlich Nachweisbarkeit hinzu:
Buchungsinformationen, Belege und Änderungen müssen auditierbar und einem
konkreten Trip zuordenbar sein. Daraus folgt für die Architektur die
Grundentscheidung für eine zentrale, strukturierte Datenbasis (\textit{Single
Source of Truth}), kombiniert mit Datenintegrität, klarer Rechteverwaltung und
nachvollziehbarer Historie.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,0) rectangle (2.8,1.1);
    \node at (1.4,0.55) {\small Mobile App};
    \draw[rounded corners, thick] (4,0) rectangle (6.8,1.1);
    \node at (5.4,0.55) {\small API/Services};
    \draw[rounded corners, thick] (8,0) rectangle (10.8,1.1);
    \node at (9.4,0.55) {\small SSOT (DB)};
    \draw[->, thick] (2.8,0.55) -- (4,0.55);
    \draw[->, thick] (6.8,0.55) -- (8,0.55);
    \draw[->, thick] (8,0.25) -- (6.8,0.25);
    \draw[->, thick] (4,0.25) -- (2.8,0.25);
  \end{tikzpicture}
  \caption{Zentraler Datenfluss mit einer kanonischen Datenquelle (SSOT).}
  \label{fig:ssot_dataflow}
\end{figure}

\subsection{Single Source of Truth und Datenkonsistenz}
SSOT beschreibt das Prinzip, dass jedes relevante Datenelement genau eine
massgebliche Pflege- und Referenzstelle besitzt. In der Reiseorganisation ist der
Nutzen besonders hoch, weil Daten typischerweise fragmentiert vorliegen
(Buchungsdaten in E-Mails, Dokumente als Fotos, Erinnerungen in Kalendern,
Notizen in separaten Apps). Eine zentrale Datenbasis reduziert doppelte Erfassung,
Inkonsistenzen und Update-Anomalien.

Konsistenz muss dabei in zwei Schichten betrachtet werden:
\begin{itemize}
  \item \textbf{Konsistenz in der Datenbank:} Schema, Constraints und
  Transaktionen erzwingen strukturell gültige Zustände
  \cite{postgresqlConstraints,postgresqlTxIsolation}.
  \item \textbf{Konsistenz über Geräte:} Offline-Phasen und parallele Zugriffe
  erzeugen Replikations- und Konfliktfragen; hier sind konsistente
  Synchronisationsregeln erforderlich \cite{capBrewer2012,dynamo2007}.
\end{itemize}

Die Normalisierung des Datenmodells ist dafür eine zentrale Grundlage, weil sie
Redundanz senkt und Änderungen an einer kanonischen Stelle bündelt.
\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,0) rectangle (4.5,1.2);
    \node[align=center] at (2.25,0.6) {\small Unnormalisierte\\\small Sammelstruktur};
    \draw[->, thick] (4.5,0.6) -- (6,0.6);
    \draw[rounded corners, thick] (6,1.4) rectangle (10,2.5);
    \node[align=center] at (8,1.95) {\small Flights};
    \draw[rounded corners, thick] (6,0) rectangle (10,1.1);
    \node[align=center] at (8,0.55) {\small Docs / Receipts};
    \draw[rounded corners, thick] (6,-1.4) rectangle (10,-0.3);
    \node[align=center] at (8,-0.85) {\small Notes / Checklists};
  \end{tikzpicture}
  \caption{Konzeptuelle Normalisierung: von Sammeldaten zu klaren Entitäten.}
  \label{fig:normalization_concept}
\end{figure}

Für die Synchronisation zwischen Verfügbarkeit und strikter Konsistenz gilt in
verteilten Systemen ein Trade-off, der als CAP-Perspektive modelliert wird
\cite{capBrewer2012}. Für mobile Reiseapps bedeutet das praktisch:
\textit{starke Konsistenz} für Rechte, Besitzverhältnisse und Löschungen;
\textit{eventual consistency} für weniger kritische Felder wie
Zwischenstände oder lokal gecachte Ansichten.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[thick] (0,0) -- (6,0) -- (3,4.5) -- cycle;
    \node at (3,4.9) {\small C (Consistency)};
    \node at (-0.6,-0.2) {\small A (Availability)};
    \node at (6.7,-0.2) {\small P (Partition Tolerance)};
  \end{tikzpicture}
  \caption{CAP-Trade-off als Hintergrund für Offline- und Multi-Device-Design.}
  \label{fig:cap_tradeoff}
\end{figure}

\subsection{Anforderungen an die zentrale Datenverwaltung}
\subsubsection{Strukturierte Entitäten und Beziehungen}
Ein belastbares Domänenmodell umfasst mindestens \texttt{trips},
\texttt{flights/legs}, \texttt{notes}, \texttt{documents}, \texttt{checklists}
und \texttt{receipts}. Relationale Modellierung mit klaren Foreign Keys reduziert
Redundanz und unterstützt konsistente Abfragen über den gesamten Trip-Kontext.

\subsubsection{Transparenz, Status und Nachvollziehbarkeit}
Zentral gespeicherte Daten müssen nicht nur vorhanden, sondern auch fachlich
interpretierbar sein. Deshalb benötigt ein Trip-Dashboard ableitbare
Statusfelder (z.\,B. \texttt{documents\_complete}, \texttt{receipts\_pending})
und einen nachvollziehbaren Bezug zu den auslösenden Ereignissen.

\subsubsection{Audit-Trail und Historie}
Für Geschäftsreisen ist Historie essenziell: Zuordnungen, Korrekturen und
Löschungen müssen nachvollziehbar bleiben. Eine pragmatische Umsetzung ist ein
Änderungsprotokoll mit \texttt{created\_at}, \texttt{updated\_at},
\texttt{created\_by} sowie dedizierten Audit-Events bei sicherheitsrelevanten
Vorgängen.

\subsubsection{Synchronisierung, Multi-Device und Offline}
Mobile Nutzung erfordert lokale Caches und spätere Synchronisierung. Bei
parallelen Änderungen sind Konfliktstrategien nötig (Versionierung,
Last-Writer-Regeln oder explizite Konfliktauflösung) \cite{firestoreOffline,
amplifyConflict}. Konflikte lassen sich bereits im Datenmodell reduzieren, wenn
Änderungen kleinteilig und möglichst additiv modelliert werden.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,0) rectangle (2.8,1.1);
    \node at (1.4,0.55) {\small Device A};
    \draw[rounded corners, thick] (4,0) rectangle (6.8,1.1);
    \node at (5.4,0.55) {\small Server-SSOT};
    \draw[rounded corners, thick] (8,0) rectangle (10.8,1.1);
    \node at (9.4,0.55) {\small Device B};
    \draw[<->, thick] (2.8,0.55) -- (4,0.55);
    \draw[<->, thick] (6.8,0.55) -- (8,0.55);
    \node at (1.4,-0.45) {\scriptsize Offline-Cache};
    \node at (9.4,-0.45) {\scriptsize Offline-Cache};
  \end{tikzpicture}
  \caption{Synchronisationsmodell für Multi-Device mit zentralem Server-SSOT.}
  \label{fig:sync_model}
\end{figure}

\subsubsection{Rollen und Zugriffsrechte}
Neben Owner-Zugriffen werden in realen Szenarien rollenbasierte Rechte benötigt
(z.\,B. Nutzer, Manager, Admin). RBAC ist dafür ein etabliertes Modell, weil es
Rechte über Rollen statt über Einzelnutzer verwaltet \cite{rbacNist1996}.

\subsubsection{Datenintegrität und Validierung}
Importpfade (QR, OCR, E-Mail) erfordern mehrstufige Validierung:
\textit{syntaktisch} (Format/Pflichtfelder), \textit{semantisch}
(zeitliche Plausibilität, Betrag $>$ 0), \textit{referentiell}
(Beleg gehört zu einem gültigen Trip). Das ist auch sicherheitsrelevant, weil
unzureichende Validierung ein häufiges mobiles Risiko darstellt
\cite{owaspMobileTop10}.

\subsubsection{Konsistente Zustandstransitionen}
Wenn mehrere Tabellen fachlich zusammenhängen (z.\,B. Upload + Metadaten +
Trip-Verknüpfung), müssen Updates atomar erfolgen. ACID-Eigenschaften und
geeignete Isolationsebenen verhindern halbfertige Zustände unter Last
\cite{postgresqlTxIsolation}.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,1.5) rectangle (2.6,3);
    \node[align=center] at (1.3,2.25) {\small A\\\scriptsize Atomicity};
    \draw[rounded corners, thick] (3.1,1.5) rectangle (5.7,3);
    \node[align=center] at (4.4,2.25) {\small C\\\scriptsize Consistency};
    \draw[rounded corners, thick] (0,-0.2) rectangle (2.6,1.3);
    \node[align=center] at (1.3,0.55) {\small I\\\scriptsize Isolation};
    \draw[rounded corners, thick] (3.1,-0.2) rectangle (5.7,1.3);
    \node[align=center] at (4.4,0.55) {\small D\\\scriptsize Durability};
  \end{tikzpicture}
  \caption{ACID als Integritätsfundament für transaktionale Updates.}
  \label{fig:acid_foundation}
\end{figure}

\subsection{Sicherheitskonzept und Datenschutz}
Ein belastbares Sicherheitsmodell kombiniert Identität, Autorisierung,
Storage-Schutz, sichere Kommunikation und Datenschutz-Governance. Als
Bedrohungsrahmen dienen mobile Top-Risiken wie unsichere Authentifizierung,
fehlende Zugriffskontrolle, unsichere Datenspeicherung und Misconfiguration
\cite{owaspMobileTop10}.

\subsubsection{Authentifizierung: Sessions, Tokens und Identität}
Token-basierte Sessions sind im Mobile-Backend Standard. JWT ist dabei ein
etabliertes Format für signierte Claims \cite{rfc7519}; OAuth 2.0 bildet den
Rahmen für delegierte Zugriffe über externe Identitätsprovider
\cite{rfc6749}. In Skyline wird dies mit Supabase Auth kombiniert, wodurch
Session-Claims und Datenbankberechtigungen zusammengeführt werden
\cite{supabaseAuth,supabaseRLS}.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,0) rectangle (2.8,1.1);
    \node at (1.4,0.55) {\small Mobile Client};
    \draw[rounded corners, thick] (4,0) rectangle (6.8,1.1);
    \node at (5.4,0.55) {\small Auth Server};
    \draw[rounded corners, thick] (8,0) rectangle (10.8,1.1);
    \node at (9.4,0.55) {\small API/DB};
    \draw[->, thick] (2.8,0.75) -- (4,0.75);
    \node at (3.4,1.1) {\scriptsize Login + PKCE};
    \draw[->, thick] (4,0.35) -- (2.8,0.35);
    \node at (3.4,-0.05) {\scriptsize Access Token};
    \draw[->, thick] (2.8,0.05) .. controls (3.5,-0.8) and (7.3,-0.8) .. (8,0.05);
    \node at (5.4,-1.05) {\scriptsize API-Request mit JWT};
  \end{tikzpicture}
  \caption{Vereinfachter OAuth/JWT-Flow für mobile Authentifizierung.}
  \label{fig:oauth_jwt_flow}
\end{figure}

\subsubsection{Autorisierung: Row Level Security und Policies}
Autorisierung beantwortet nicht \glqq wer bist du?\grqq{}, sondern
\glqq was darfst du sehen/ändern?\grqq{}. Row Level Security (RLS) erlaubt
Policy-getriebene Rechteprüfung auf Zeilenebene in der Datenbank
\cite{supabaseRLS}. Das folgt dem Prinzip \textit{default deny}: ohne passende
Policy kein Datenzugriff.

\subsubsection{Storage-Sicherheit für Dokumente}
Reisedokumente und Belege dürfen nicht öffentlich zugänglich sein.
Private Buckets, signierte URLs und Policy-gebundene Zugriffe bilden deshalb den
Standardansatz \cite{supabaseStorage}. Damit bleibt die Zugriffskontrolle nicht
nur in der App-Logik, sondern wird am Datenkern erzwungen.

\subsubsection{Kommunikation, Konfiguration und Logging}
Sichere Transportwege, sauberes Secret-Management und restriktive
Produktionskonfiguration sind Pflicht. Logging muss zwei Ziele gleichzeitig
erfüllen: Fehlersuche ermöglichen, aber keine sensitiven Inhalte unnötig
persistieren (z.\,B. Tokens, Volltexte von Dokumenten).

\subsubsection{DSGVO-Konsequenzen für die Architektur}
Die DSGVO wirkt unmittelbar auf technische Entscheidungen:
\begin{itemize}
  \item \textbf{Datenminimierung (Art. 5):} nur notwendige Daten speichern.
  \item \textbf{Privacy by Design/Default (Art. 25):} Zugriff standardmäßig
  restriktiv auslegen.
  \item \textbf{Löschbarkeit (Art. 17):} End-to-End-Löschpfad für Datensätze
  und Dateien vorsehen.
  \item \textbf{Sicherheit der Verarbeitung (Art. 32):} Vertraulichkeit,
  Integrität, Verfügbarkeit und Resilienz technisch absichern.
\end{itemize}
Diese Anforderungen sind für eine Reiseorganisations-App nicht optional, sondern
Teil der Kernfunktionalität \cite{gdpr}.

\section{Anforderungen an eine mobile Reiseorganisations-App}
\subsection{Durchgängiger Datenfluss}
Der fachliche Kern ist ein stabiler End-to-End-Fluss:
\textbf{Import} $\rightarrow$ \textbf{Validierung} $\rightarrow$
\textbf{Speicherung} $\rightarrow$ \textbf{Synchronisierung} $\rightarrow$
\textbf{Abfrage/Anzeige}. Dieser Fluss muss auch unter Fehlerbedingungen
(Offline, unvollständige Scans, API-Timeouts) robust degradieren können.

\begin{figure}[htbp]
  \centering
  \begin{tikzpicture}[x=1cm,y=1cm]
    \draw[rounded corners, thick] (0,0) rectangle (2.1,1.1);
    \node at (1.05,0.55) {\small Import};
    \draw[rounded corners, thick] (2.8,0) rectangle (4.9,1.1);
    \node at (3.85,0.55) {\small Validierung};
    \draw[rounded corners, thick] (5.6,0) rectangle (7.7,1.1);
    \node at (6.65,0.55) {\small Persistenz};
    \draw[rounded corners, thick] (8.4,0) rectangle (10.5,1.1);
    \node at (9.45,0.55) {\small Sync/UI};
    \draw[->, thick] (2.1,0.55) -- (2.8,0.55);
    \draw[->, thick] (4.9,0.55) -- (5.6,0.55);
    \draw[->, thick] (7.7,0.55) -- (8.4,0.55);
  \end{tikzpicture}
  \caption{Kernpipeline einer mobilen Reiseorganisations-App.}
  \label{fig:core_pipeline}
\end{figure}

\subsection{Importanforderungen: QR, OCR, E-Mail}
QR-/Barcode-Import auf Basis von BCBP-Standards ist für den Flugkontext
besonders nutzerfreundlich, weil zentrale Felder strukturiert auslesbar sind
\cite{iataBCBP}. OCR und E-Mail-Import erweitern die Abdeckung, sind aber
probabilistisch und fehleranfälliger. Daraus folgt die Pflicht zu einem
\textit{human-in-the-loop}-Design: Extrahierte Felder werden als Vorschläge
angezeigt und erst nach Nutzerbestätigung als valide übernommen
\cite{mlKitTextRecognition,tesseractOcr}.

\subsection{Validierung, Zeitlogik und Speicherung}
Zeitkritische Daten (z.\,B. Boarding, Check-in-Fenster) erfordern mehr als
Formatprüfung: Zeitzonen, Datumswechsel und Plausibilität müssen
anwendungsseitig geprüft werden. Datenbankseitige Constraints und transaktionale
Speicherung bleiben das Rückgrat für konsistente Zustände
\cite{postgresqlConstraints,postgresqlTxIsolation}.

\subsection{Synchronisierung, Offline und Konflikte}
Offline-Unterstützung verbessert Nutzbarkeit unterwegs deutlich. Gleichzeitig
müssen Konflikte bei späterer Synchronisierung modelliert werden
\cite{firestoreOffline,amplifyConflict}. Für Skyline ist ein pragmatischer Ansatz
sinnvoll: konfliktarme Datenstrukturen und gezielte Konfliktlogik nur dort, wo
realistisch parallele Änderungen auftreten.

\subsection{Integrationsanforderungen}
Integrationen steigern den Nutzen, vergrößern aber die Angriffsoberfläche:
Geovisualisierung benötigt saubere Datenmodellierung; Benachrichtigungen
benötigen konsistente Zeitdaten und Privacy Controls am Sperrbildschirm
\cite{applePushPrimer2020,androidNotifications}. Auf iOS steuert das
Betriebssystem Anzeige und Zustellung über APNs; Nutzer erteilen per
System-Dialog explizit die Erlaubnis.

\section{Technische Grundlagen der mobilen App-Entwicklung}
\subsection{Cross-Platform-Frontend mit React Native und Expo}
React Native ermöglicht plattformübergreifende UI- und Logikentwicklung für
iOS und Android \cite{reactNative}. Skyline wurde dabei primär für \textbf{iOS} entwickelt
und ist im \textbf{Apple App Store} verfügbar; Android wird als sekundäre Zielplattform
unterstützt, wurde jedoch im Projektzeitraum weniger ausführlich getestet.
Expo vereinfacht Build-, Deployment- und Update-Prozesse durch ein integriertes
Tooling-Ökosystem und ermöglicht via EAS den App-Store-Rollout für iOS
\cite{expoDocs,easBuild,easUpdate}.

\subsection{Backend-as-a-Service mit Datenbank- und Security-Nähe}
Supabase kombiniert Postgres, Auth, Storage und Realtime in einer integrierten
Plattform \cite{supabasePlatform}. Für diese Arbeit ist besonders relevant, dass
RLS und Storage-Policies direkt an der Datenebene greifen
\cite{supabaseRLS,supabaseStorage,supabaseAuth}.

\subsection{Technologievergleich und Architekturentscheidung}
Für eine Reiseorganisations-App sind insbesondere vier Vergleichskriterien
tragfähig: Datenintegrität, Rechteverwaltung, Offline-Verhalten und
Compliance-Fähigkeit.

\begin{table}[htbp]
  \centering
  \caption{Vergleich möglicher Architekturpfade für mobile Reiseorganisation}
  \label{tab:architekturvergleich}
  \begin{tabular}{p{3.1cm}p{4.1cm}p{5.8cm}}
    \textbf{Pfad} & \textbf{Stärken} & \textbf{Trade-offs} \\
    \midrule
    Postgres-zentrierte BaaS (RLS) &
    starke Integrität, klare Relationen, Policy-Logik am Datenkern &
    Offline-Konzept muss bewusst modelliert werden \\
    \midrule
    NoSQL-Realtime mit Offline-Persistenz &
    schnelle Sync-UX, Realtime by default &
    relationale Konsistenzregeln häufig anwendungsseitig \\
    \midrule
    Offline-first Sync-Framework &
    explizite Konfliktstrategien, gute Multi-Device-Unterstützung &
    höhere Plattformkomplexität und Resolver-Aufwand \\
  \end{tabular}
\end{table}

Für Skyline überwiegt ein relationales Zentrum mit RLS, weil Datenintegrität,
Nachvollziehbarkeit und zugriffsbasierte Sicherheit im Projektkontext priorisiert
sind. Offline-Fähigkeit wird ergänzend über lokale Datenhaltung und
kontrollierte Synchronisierung umgesetzt.
